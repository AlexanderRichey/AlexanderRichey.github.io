<p>Installing the Django Pipeline is a pain. Here’s a few things to watch out for that might save you some searching on Stack Overflow.</p>

<h2 id="enable-the-pipeline">Enable The Pipeline</h2>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">PIPELINE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'PIPELINE_ENABLED'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="o">...</span>
</code></pre>
</div>

<p>If your Pipeline config, which lives in <code class="highlighter-rouge">settings.py</code>, you have to remember to set the <code class="highlighter-rouge">PIPELINE_ENABLED</code> setting. If you forget to include it, contrary to what <a href="https://django-pipeline.readthedocs.io/en/latest/usage.html">the docs</a> say, <em>the pipeline won’t output anything in your templates!</em> If it’s set to <code class="highlighter-rouge">False</code>, your scripts are loaded on the page one-by-one in the order you specify in your config. Otherwise, the pipeline will load output scripts that point to your output files, which are only created after you run <code class="highlighter-rouge">$ python manage.py collectstatic</code>.</p>

<h2 id="commas">Commas</h2>

<p>Commas are required in odd places, even when there’s only one thing being listed.</p>

<p><strong>BAD</strong></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="s">'JAVASCRIPT'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'libs'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'source_filenames'</span><span class="p">:</span> <span class="p">(</span>
          <span class="s">'js/libs/jquery-2.1.3.min.js'</span>
        <span class="p">),</span>
        <span class="s">'output_filename'</span><span class="p">:</span> <span class="s">'js/libs.js'</span>
    <span class="p">},</span>
    <span class="o">...</span>
</code></pre>
</div>

<p><strong>GOOD</strong></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="s">'JAVASCRIPT'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'libs'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'source_filenames'</span><span class="p">:</span> <span class="p">(</span>
          <span class="s">'js/libs/jquery-2.1.3.min.js'</span><span class="p">,</span> <span class="o">&lt;=</span><span class="c"># wut?</span>
        <span class="p">),</span>
        <span class="s">'output_filename'</span><span class="p">:</span> <span class="s">'js/libs.js'</span><span class="p">,</span> <span class="o">&lt;=</span><span class="c"># why?</span>
    <span class="p">},</span>
    <span class="o">...</span>
</code></pre>
</div>

<h2 id="angularjs-v-pipeline-compression">AngularJS v. Pipeline Compression</h2>

<p>Angular does not do well with modern compression. The reason for this is that it interacts with your views very closely and compressors are not smart enough to look at your views to check if they reference any javascript functions, properties, etc. The usual solution to this problem is to set the <code class="highlighter-rouge">mangle</code> setting to <code class="highlighter-rouge">false</code> in your compressor config, but Django Pipeline doesn’t make this easy. Supposedly, you can pass in a command line argument to your compressor like so.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">PIPELINE</span><span class="p">[</span><span class="s">'UGLIFYJS_ARGUMENTS'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'--no-mangle'</span>
</code></pre>
</div>

<p>But, of course, this <a href="http://stackoverflow.com/questions/37821790/uglifyjs-unknown-option-in-cli">doesn’t work</a> in certain environments. The solution here is to use a more bare-bones compressor, like <a href="http://www.crockford.com/javascript/jsmin.html">JSMin</a> or <a href="https://github.com/rspivak/slimit">SlimIt</a>, which don’t change the names of your functions, variables, etc.</p>
